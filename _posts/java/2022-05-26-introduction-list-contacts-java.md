---
layout: post
title: "Введение в список контактов"
date: 2022-05-26 05:05:00
tags: code java
description: Приложение "Список контактов" (list contacts) на Java - часть-1 (в консоли)
toc: true
---

# Введение в список контактов

Чтобы мы могли дальше двигаться не просто рассматривая новое, а со смыслом и практикой, предлагаю начать разработку очень простого приложения, которое позволит нам задействовать описываемые технологии.
Чтобы не придумывать что-то очень сложное, я буду делать простой список контактов, который будет иметь возможность делать основные операции (назовём их для дальнейших рассуждений "бизнес-действие"):

1. Просмотр списка контактов
1. Добавление контакта
1. Редактирование контакта
1. Удаление контакта

Также предлагаю делать свой вариант - например список машин в автосалоне, список заказов пиццы, список книг. Пусть он будет выглядеть практически так же, как мой, но это будет ваш собственный проект.
В этой статье мы создадим каркас нашего приложения - основные классы и методы. При изучении нового материала будем расширять эту функциональность.
Для начала проектирования воспользуемся нашим набором функций и существительным "контакт". Эти слова на самом деле очень помогают при начальной разработке - вы по сути определяете предметную область и можете выделить какие-то базовые классы и их методы.
Естественно, что при наработке дальнейшего опыта и усложнении систем, которые вы будете разрабатывать, набор классов и их функциональность будет увеличиваться, но основные принципы останутся такие же, как и в нашем случае - смотрим описание и выделяем существительные и глаголы. В них основная идея и будет скрываться.
Достаточно легко можно увидеть класс _Contact_, который будет использоваться как хранилище информации об одном контакте. Также нам потребуется класс, который предоставит нам нужные функции для работы со списком контактов - удаление, добавление, редактирование, получение списка. Назовём его _ContactManager_. Также нам потребуется класс (классы) для хранения контактов в каком-то постоянном хранилище. Т.к. систем хранения у нас будет несколько - для файлов, для базы данных.
В нашем случае это не очень выразительно видно, но я очень хочу, чтобы вы уловили разницу между хранением данных в хранилище и действиями по редактированию. Этот момент важен по следующим соображениям:

1. Функции редактирования могут быть гораздо сложнее обычного сохранения данных в хранилище.
Например, добавление контакта может потребовать проверку данных на правильность полей, проверку на наличие такого контакта (причём такая проверка может быть весьма нетривиальной задачей - по имени или по e-mail или ещё как). Также надо принимать во внимание возможность дальнейшего расширения системы. Добавление контакта может потребовать выполнить какие-то дополнительные действия - поиск сведений о контакте в социальных сетях, поиск через Гугл или синхронизацию данных с удалённым хранилищем. В итоге мы однозначно можем сказать, что бизнес-действие нередко включает несколько элементарных действий, среди которых будет и действия с хранилищем.
1. Хранилища могут быть совершенно разными. Это может быть файл - причём в разных форматах: CSV, XML, какой-то текст, бинарное представление (MS Word, MS Excel). Это может быть база данных - причём совершенно разных типов - например SQL и NoSQL. Это может быть та же 1C-Бухгалтерия или сервер MS Exchange. Или IBM Lotus Notes. В общем систем хранения может быть много и надо быть готовым к тому, чтобы перевести ваше приложение на новый вариант с текущего.

Суммируя всё вышеизложенное мы будем строить взаимодействие класса _ContactManager_ с хранилищами через интерфейс, реализовать который должны все хранилища, которые мы будем создавать.
Давайте нарисуем упрощённую диаграмму наших классов:

![Упрощённая диаграмма классов]({{'/assets/images/java-list-contacts/ContactProject.png' | relative_url}}){:.center-image}*Упрощённая диаграмма классов*

Как видите, наш класс _ContactManager_ взаимодействует с хранилищем не напрямую, а через интерфейс _ContactDAO_. Т.к. все хранилища его реализуют, то нам будет легко менять их фактически "на лету".

## Класс _Contact_

Этот класс не должен вызывать каких-то больших вопросов. Там перечислены нужные поля и для них сделаны сетеры и гетеры. Может вызывать сомнение набор конструкторов - я сделал для всех полей (в случае редактирования) и все поля кроме ИД (_contactId_) - для случая добавления. Мне показалось, что так будет удобно. Переопределение метода _toString()_ сделано для удобства вывода информации о контакте.
Полный путь к файлу _src/edu/javacourse/contact/entity/Contact.java_

>Contact.java
{:.filename}
{% highlight java linenos %}
package edu.javacourse.contact.entity;

/**
 * Класс для хранения данных контакта
 */
public class Contact {
    // Идентификатор контакта
    private Long contactId;
    // Имя
    private String firstName;
    // Фамилия
    private String lastName;
    // Телефон
    private String phone;
    // email
    private String email;
    
    public Contact() {
    }
    
    public Contact(String firstName, String lastName, String phone, String email) {
        this.firstName = firstName;
        this.lastName = lastName;
        this.phone = phone;
        this.email = email;
    }
    
    public Contact(Long contactId, String firstName, String lastName, String phone, String email) {
        this.contactId = contactId;
        this.firstName = firstName;
        this.lastName = lastName;
        this.phone = phone;
        this.email = email;
    }
    
    public Long getContactId() {
        return contactId;
    }
    
    public void setContactId(Long contactId) {
        this.contactId = contactId;
    }
    
    public String getFirstName() {
        return firstName;
    }
    
    public void setFirstName(String firstName) {
        this.firstName = firstName;
    }
    
    public String getLastName() {
        return lastName;
    }
    
    public void setLastName(String lastName) {
        this.lastName = lastName;
    }
    
    public String getPhone() {
        return phone;
    }
    
    public void setPhone(String phone) {
        this.phone = phone;
    }
    
    public String getEmail() {
        return email;
    }
    
    public void setEmail(String email) {
        this.email = email;
    }
    
    @Override
    public String toString() {
        return "Contact{" + "contactId=" + contactId + ", firstName=" + firstName + ", lastName=" + lastName + ", phone=" + phone + ", email=" + email + '}';
    }
}
{% endhighlight %}